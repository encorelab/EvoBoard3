package classes{	import flash.display.Shape;	import flash.display.Sprite;	import flash.events.MouseEvent;	import flash.geom.Point;	public class Connection extends Sprite	{		private var _spriteA					:OrganismTag;		private var _spriteB					:OrganismTag;				private var _movingTarget				:OrganismTag;		private var _staticTarget				:OrganismTag;				private var _staticTargetPos			:Point = new Point();			private var _connector					:Sprite;				public function Connection( ot1:OrganismTag, ot2:OrganismTag )		{			_connector = new Sprite();			_connector.graphics.lineStyle( 1, 0x333333 );			_connector.graphics.moveTo( 0, 0 );			_connector.graphics.lineTo( 100, 100 );					addChild( _connector );						_spriteA = ot1;			_spriteB = ot2;						initLine();		}		private function initLine():void		{			_connector.graphics.clear();			_connector.graphics.lineStyle( 1, 0xFFFFFF );			_connector.graphics.moveTo( _spriteA.x + _spriteA.anchorPoint.x, _spriteA.y + _spriteA.anchorPoint.y );			_connector.graphics.lineTo( _spriteB.x + _spriteB.anchorPoint.x, _spriteB.y + _spriteB.anchorPoint.y );		}		public function moveNode( node:OrganismTag ):void		{			_movingTarget = node;			if ( node == _spriteA ){				_movingTarget = _spriteA;				_staticTarget = _spriteB;			} else if ( node == _spriteB )  {				_movingTarget = _spriteB;				_staticTarget = _spriteA;			}			_staticTargetPos.x = _staticTarget.x + _staticTarget.anchorPoint.x;			_staticTargetPos.y = _staticTarget.y + _staticTarget.anchorPoint.y;		}				public function stopNode( node:OrganismTag ):void		{			_movingTarget = null;		}				public function drawLine():void		{			_connector.graphics.clear();			_connector.graphics.lineStyle( 1, 0xFFFFFF );			_connector.graphics.moveTo( _staticTargetPos.x, _staticTargetPos.y );			_connector.graphics.lineTo( _movingTarget.x + _movingTarget.anchorPoint.x, _movingTarget.y + _movingTarget.anchorPoint.y );		}		public function checkConnection( tag1:OrganismTag, tag2:OrganismTag ):Boolean		{			if ( ((_spriteA == tag1) && (_spriteB == tag2)) || ((_spriteA == tag2) && (_spriteB == tag1)) ){				return true;			} else {				return false;			}		}	}}